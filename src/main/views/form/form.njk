{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}

<form class="form" id="main-form" method="post" action="" novalidate="true">
  <input type="hidden" name="_csrf" value={{ csrfToken }}>
  {% block form_content %}
    {% include "./fields.njk" %}
    {% if "got-a-notice-period" in currentUrl %}
      <p class="govuk-body">{{ noticePeriodClearSelection | safe }}</p>
      {{ govukInsetText({
        text: noticeLengthInsetText
      }) }}
    {% endif %}

     {% if "notice-type" in currentUrl %}
        <p class="govuk-body">{{ noticeTypeClearSelection | safe }}</p>
     {% endif %}

     {% if "/pay" in currentUrl %}
        <p class="govuk-body">{{ payClearSelection | safe }}</p>
     {% endif %}

     {% if "pension" in currentUrl %}
        <p class="govuk-body">{{ pensionClearSelection | safe }}</p>
     {% endif %}

     {% if "benefits" in currentUrl %}
        <p class="govuk-body">{{ benefitsClearSelection | safe }}</p>
     {% endif %}

     {% if "/new-job-pay" in currentUrl %}
        <p class="govuk-body">{{ newJobPayClearSelection | safe }}</p>
     {% endif %}
     {% if "/new-job" in currentUrl and "/new-job-pay" not in currentUrl %}
        <p class="govuk-body">{{ newJobClearSelection | safe }}</p>
     {% endif %}
  {% endblock %}

  <div class="govuk-form-group">
    {{
      govukButton({
        text: getContent(form.submit.text),
        classes: form.submit.classes,
        type: "submit",
        preventDoubleClick: true,
        attributes: {
          id: 'main-form-submit'
        }
      }) if getContent(form.submit.text)
    }}

    {{
      govukButton({
        text: getContent(form.saveForLater.text),
        classes: form.saveForLater.classes,
        preventDoubleClick: true,
        name: 'saveForLater',
        value: true,
        attributes: {
          id: 'main-form-save-for-later'
        },
        value: true
      }) if getContent(form.saveForLater.text)
    }}
  </div>
</form>
